#Events for learning Commander Traits from a character

namespace = ATHA_learn_commander_trait

#Choose whether to become light_infantry_master, archers_master, light_cavalry_master, medium_infantry_master, archer_cavalry_master, heavy_infantry_master, pikemen_master, heavy_cavalry_master.
ATHA_learn_commander_trait.0001 = {
	type = character_event
	title = ATHA_learn_commander_trait.0001.t
	desc = ATHA_learn_commander_trait.0001.desc
	theme = war
	left_portrait = root
	
	trigger = {
		NOT = { has_character_flag = being_taught_commander_trait }
		number_of_commander_traits < 3
	}

	weight_multiplier = {
		base = 1
		compare_modifier = {
			factor = martial
			multiplier = 0.1
			max = 2
		}
		modifier = {
			add = 1
			culture = { has_cultural_parameter = commanders_likelier_to_gain_commander_traits }
		}
		modifier = {
			factor = 0.3
			number_of_commander_traits > 0
		}
		modifier = {
			factor = 0.3
			number_of_commander_traits > 1
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.a
		trigger = { NOT = { has_trait = light_infantry_master } }
		add_trait = light_infantry_master
		stress_impact = {
			calm = minor_stress_impact_gain
			lazy = minor_stress_impact_gain
			forgiving = minor_stress_impact_gain
			patient = minor_stress_impact_gain
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
			}
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.b
		trigger = { NOT = { has_trait = archers_master } }
		add_trait = archers_master
		stress_impact = {
			arrogant = minor_stress_impact_gain
			fickle = minor_stress_impact_gain
			ambitious = minor_stress_impact_gain
			impatient = medium_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
			}
		}
	}
	
	option = {
		name = ATHA_learn_commander_trait.0001.c
		trigger = { NOT = { has_trait = light_cavalry_master } }
		add_trait = light_cavalry_master
		stress_impact = {
			stubborn = medium_stress_impact_gain
			content = minor_stress_impact_gain
			impatient = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
			}
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.d
		trigger = { NOT = { has_trait = medium_infantry_master } }
		add_trait = medium_infantry_master
		stress_impact = {
			stubborn = medium_stress_impact_gain
			content = minor_stress_impact_gain
			impatient = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
				
			}
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.e
		trigger = { NOT = { has_trait = archer_cavalry_master } }
		add_trait = archer_cavalry_master
		stress_impact = {
			stubborn = medium_stress_impact_gain
			content = minor_stress_impact_gain
			impatient = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
			}
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.f
		trigger = { NOT = { has_trait = heavy_infantry_master } }
		add_trait = heavy_infantry_master
		stress_impact = {
			stubborn = medium_stress_impact_gain
			content = minor_stress_impact_gain
			impatient = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
			}
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.g
		trigger = { NOT = { has_trait = pikemen_master } }
		add_trait = pikemen_master
		stress_impact = {
			stubborn = medium_stress_impact_gain
			content = minor_stress_impact_gain
			impatient = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
				ai_boldness = 0.5
				ai_vengefulness = -0.5
			}
		}
	}

	option = {
		name = ATHA_learn_commander_trait.0001.h
		trigger = { NOT = { has_trait = heavy_cavalry_master } }
		add_trait = heavy_cavalry_master
		stress_impact = {
			stubborn = medium_stress_impact_gain
			content = minor_stress_impact_gain
			impatient = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_rationality = 1
			}
		}
	}