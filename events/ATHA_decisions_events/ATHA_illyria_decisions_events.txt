namespace = illyria_decisions

##############################
# Form k_liburnia		 	 #
##############################

# I formed k_liburnia
illyria_decisions.0001 = {
	type = character_event
	title = illyria_decisions.0001.t
	desc = illyria_decisions.0001.desc
	theme = realm
	left_portrait = {
		character = scope:k_liburnia_founder
		animation = personality_honorable
	}

	immediate = {
		play_music_cue = "mx_cue_epic_sacral_moment"
		form_k_liburnia_decision_effects = yes
	}
	
	option = { #Centralize the government
		name = illyria_decisions.0001.a
		add_character_flag = founder_centralized_power
	}

	option = { #Maintain the old ways
		name = illyria_decisions.0001.b
		add_character_flag = founder_maintained_status_quo
	}
}

# Someone else formed k_liburnia
illyria_decisions.0002 = {
	type = character_event
	title = illyria_decisions.0002.t
	desc = illyria_decisions.0002.desc
	theme = realm
	left_portrait = {
		character = scope:k_liburnia_founder
		animation = personality_honorable
	}

	option = { 
		name = illyria_decisions.0002.a
	}
}

##############################
# Restore k_paionia borders	 #
##############################

# I restored k_paionia borders
illyria_decisions.0003 = {
	type = character_event
	title = illyria_decisions.0003.t
	desc = illyria_decisions.0003.desc
	theme = realm
	left_portrait = {
		character = scope:k_paionia_restorer
		animation = personality_honorable
	}

	immediate = {
		play_music_cue = "mx_cue_epic_sacral_moment"

		restore_k_paionia_borders_decision_effects = yes
	}
	
	option = { # Consolidate & resettle the old tribal lands
		name = illyria_decisions.0003.a
		add_character_flag = restorer_is_administrator

		create_d_lower_paionia_scripted_effect = yes

		# Culture conversion
		every_sub_realm_county = {
			limit = {
				NOT = {
					culture = { has_cultural_pillar = heritage_paeonian }
				}
				title_province = { geographical_region = custom_greater_paeonia }
			}
			custom = restore_k_paionia_borders_decision_effects.custom
			add_county_modifier = {
				modifier = greater_paeonia_culture_modifier
				years = 50
			}
		}

		#minor cultural acceptance penalty
		#gain bureaucratic tradition/ethos
		#nickame (the settler?) that gives the following effects:
			#stewardship bonus
			#cheaper colony holdings/buildings
			#reduced tyranny penalty
	}
	
	option = { # Posture as an enlightened and cosmopolitan Hellenistic monarch 
		name = illyria_decisions.0003.a
		add_character_flag = restorer_is_cosmopolitan

		#cultural acceptance boost with all vassal cultures
		#nickame that gives the following effects:	
			#different culture vassal opinion boost
			#cheaper guest recruitment
			#learning bonus
		#gain cosmopolitan tradition/ethos
		#gain random Macedonian innovations (or maybe even random innovation from every culture in the realm)

	}

	option = { # I will not rest until every Macedonian dynast lies dead at my feet 
		name = illyria_decisions.0003.c
		add_character_flag = restorer_is_warlike

		#Note: if we end up creating a struggle for the diadochi, this option should cause the Paeonian culture to become involved

		# Get a funky nickname for vanquishing the Macedonians
		set_permanent_nickname_effect = { NICKNAME = nick_macedonicus }

		#nickame (diadochos?) that gives the following effects:
			#invasion CB against independent Macedonian rulers
			#cheaper same-culture merc recruitment
			#cheaper MAA upkeep
		#opinion penalty with independent Macedonian rulers
		#one time army spawn
		#cool house/title CoA?
		#very stressful if not ambitious or brave
	}

	option = { # Devastate and plunder Macedonia as revenge for the destruction of Abydon and other Paeonian cities
		name = illyria_decisions.0003.d
		add_character_flag = restorer_is_vengeful

		#Note: this option is meant to be a shot in the foot, and the consequences will generally outweigh the benefits. A good way for rulers to leave a lasting legacy if they don't mind whether that legacy is positive or not

		trigger = { 
			any_realm_county = { culture = culture:macedonian } 
		}

		# Get a funky nickname for vanquishing the Macedonians
		set_permanent_nickname_effect = { NICKNAME = nick_macedonicus }

		add_dread = major_dread_gain

		culture:macedonian = {
			save_scope_as = plunder_victim
			change_cultural_acceptance = {
				target = root.culture
				value = -30
				desc = cultural_acceptance_loss_plundered_lands
			}
		}

		every_realm_county = {
			limit = { culture = culture:macedonian }
			custom = every_macedonian_county

			#For calculating loot
			add_to_list = sacked_counties

			#Hefty penalty to control and development
			change_development_level = -3
			change_county_control = -50

			#Temporary modifier that reduces popular opinion and kills development
			add_county_modifier = { 
				modifier = recently_devastated_modifier
				years = 30 
			}
			#Permanent crippling modifier
			add_county_modifier = { modifier = stripped_bare_modifier }

			#Chance of province culture flipping
			random = {
				chance = 20
				set_county_culture = root.culture
			}

			#Vassals aren't happy that you've looted their lands
			holder = {
				limit = { NOT = this:root }
				custom_description_no_bullet = {
					text = macedonian_county_holder
				}
				add_opinion = {
					target = root
					modifier = plundered_lands_opinion
				}
			}
		}

		add_gold = illyria_decisions.0003.d_loot

		stress_impact = {
			base = major_stress_impact_gain
			forgiving = medium_stress_impact_gain
			just = medium_stress_impact_gain
			compassionate = medium_stress_impact_gain
			content = minor_stress_impact_gain
			callous = medium_stress_impact_loss
			arbitrary = medium_stress_impact_loss
			greedy = medium_stress_impact_loss
			vengeful = major_stress_impact_loss
			sadistic = massive_stress_impact_loss
		}

		#TODO: incorporate into memories mechanics
	}

	option = { # Claim that you were Greek all along
		name = illyria_decisions.0003.e
		add_character_flag = restorer_is_philhellene

		title:k_paionia = { set_de_jure_liege_title = title:e_hellas }

		paionia_vassal_innovations_effect = yes

		# Get a nickname to show off your Philhellenism
		set_permanent_nickname_effect = { NICKNAME = nick_philhellene }

		#learning challenge
			#if successful:
				#culture gets Greek heritage
				#weak dynasty ancestry modifier?

		#culture gets random innovations/traditions from Macedonians or other vassal Greek culture?
		#nickame (Philhellene) that gives the following effects:
			#opinion bonus with Greeks
			#diplo/learning bonus?
			#cultural fascination bonus?

	}
}

# Someone else formed k_liburnia
illyria_decisions.0004 = {
	type = character_event
	title = illyria_decisions.0004.t
	desc = illyria_decisions.0004.desc
	theme = realm
	left_portrait = {
		character = scope:k_liburnia_founder
		animation = personality_honorable
	}

	option = { 
		name = illyria_decisions.0004.a
	}
}