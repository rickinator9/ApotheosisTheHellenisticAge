###
#	Builds an unoccupied tomb. Can be called from any scope.
#	BUILDER - the builder of the tomb, whom will also likely occupy the tomb
#	LOCATION - the location of the tomb, where it will be built.
###

build_tomb_effect = {
	$BUILDER$ = {
		save_scope_as = tomb_builder
	}
	$LOCATION$ = {
		save_scope_as = tomb_location
	}

	scope:tomb_builder = {
		set_variable = {
			name = tomb_location
			value = scope:tomb_location
		}
	}

	scope:tomb_location = {
		set_variable = {
			name = tomb_builder
			value = scope:tomb_builder
		}
		set_variable = {
			name = tomb_location
			value = scope:tomb_location
		}
		add_county_modifier = {
			modifier = built_tomb_modifier
			desc = built_tomb_modifier_custom_desc
		}
	}
}

###
# Clears a tomb from a title. Must be called from title scope.
###

clear_tomb_effect = {
	remove_variable = tomb_builder
	remove_variable = tomb_location
	remove_variable = tomb_buried_person

	remove_county_modifier = built_tomb_modifier
}